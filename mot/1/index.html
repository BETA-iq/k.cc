<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>متجر هواتف</title>
<style>
  :root {
    --main-color: #4B0082; /* نيلي */
    --accent-color: #FF7F50; /* برتقالي */
    --bg-color: #f0f0f0;
    --text-color: #333;
  }
  body {
    margin: 0; font-family: 'Cairo', sans-serif; background: var(--bg-color); color: var(--text-color);
  }
  header {
    background: var(--main-color); color: white; padding: 15px; display: flex; align-items: center; justify-content: space-between;
  }
  header h1 { margin:0; font-size: 1.5em; }
  #logo { width: 50px; height: 50px; background: white; display: inline-block; }
  nav { display: flex; gap: 10px; }
  nav button { background: var(--accent-color); border: none; padding: 8px 12px; color: white; cursor: pointer; border-radius: 5px; }
  main { padding: 20px; }
  .products { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px,1fr)); gap: 15px; }
  .product { background: white; border-radius: 10px; padding: 10px; text-align: center; box-shadow: 0 2px 6px rgba(0,0,0,0.1); }
  .product img { width: 200px; height: 200px; object-fit: cover; }
  .product button { margin-top: 8px; background: var(--main-color); color: white; border: none; padding: 6px 10px; border-radius: 5px; cursor: pointer; }
  #cart { margin-top: 20px; background: white; padding: 10px; border-radius: 10px; box-shadow: 0 2px 6px rgba(0,0,0,0.1);}
  #cart h2 { margin-top:0; }
  #checkoutForm { display: none; margin-top: 10px; }
  #checkoutForm input, #checkoutForm textarea { width: 100%; margin:5px 0; padding: 5px; border-radius: 5px; border:1px solid #ccc; }
  #checkoutForm button { background: var(--accent-color); color:white; border:none; padding:8px 12px; border-radius:5px; cursor:pointer; }
  #adminPanel { display:none; position:fixed; top:0; left:0; width:100%; height:100%; background: rgba(0,0,0,0.8); color:white; padding:20px; overflow:auto; }
  #adminPanel h2 { margin-top:0; }
  #adminPanel button { margin:5px; padding:5px 10px; border:none; border-radius:5px; cursor:pointer; background: var(--accent-color); color:white; }
  .hidden { display:none; }
</style>
</head>
<body>

<header>
  <div id="logo" title="ضع شعارك هنا"></div>
  <h1>متجر الهواتف</h1>
  <nav>
    <button onclick="showSection('عروض')">عروض</button>
    <button onclick="showSection('هواتف')">هواتف</button>
    <button onclick="showSection('شواحن')">شواحن</button>
    <button onclick="showSection('ساعات')">ساعات</button>
    <button onclick="showSection('حماية')">حماية وكفرات</button>
    <button onclick="showSection('اكسسوارات')">اكسسوارات الهاتف</button>
    <button onclick="showCart()">سلة المشتريات</button>
    <button onclick="promptAdmin()">لوحة صاحب المتجر</button>
  </nav>
</header>

<main id="mainContent">
  <!-- الأقسام تظهر هنا -->
</main>

<div id="cart">
  <h2>سلة المشتريات</h2>
  <div id="cartItems"></div>
  <button onclick="showCheckoutForm()">إتمام الطلب</button>
  <form id="checkoutForm" onsubmit="submitOrder(event)">
    <input type="text" id="custName" placeholder="الاسم الكامل" required>
    <input type="tel" id="custPhone" placeholder="رقم الهاتف" required>
    <textarea id="custAddress" placeholder="العنوان" required></textarea>
    <textarea id="custNote" placeholder="ملاحظة"></textarea>
    <button type="submit">إرسال الطلب</button>
  </form>
</div>

<div id="adminPanel">
  <h2>لوحة صاحب المتجر</h2>
  <button onclick="closeAdmin()">إغلاق</button>
  <div id="ordersList"></div>
  <button onclick="clearOrders()">مسح جميع الطلبات</button>
</div>

<script>
  const sections = {
    'عروض':[ {name:'test عرض1', img:''}, {name:'test عرض2', img:''} ],
    'هواتف':[ {name:'test ايفون 1', img:''}, {name:'test سامسونج 1', img:''} ],
    'شواحن':[ {name:'test شاحن1', img:''} ],
    'ساعات':[ {name:'test ساعة1', img:''} ],
    'حماية':[ {name:'test كفر ايفون', img:''}, {name:'test كفر سامسونج', img:''} ],
    'اكسسوارات':[ {name:'test اكسسوار1', img:''} ]
  };

  let cart = [];

  function showSection(section){
    const main = document.getElementById('mainContent');
    main.innerHTML = '<h2>'+section+'</h2><div class="products"></div>';
    const grid = main.querySelector('.products');
    sections[section].forEach((p,i)=>{
      const div = document.createElement('div'); div.className='product';
      div.innerHTML = `
        <img src="${p.img || 'https://via.placeholder.com/200'}" alt="${p.name}">
        <h3>${p.name}</h3>
        <button onclick="addToCart('${section}',${i})">أضف للسلة</button>
      `;
      grid.appendChild(div);
    });
  }

  function addToCart(section,index){
    const product = sections[section][index];
    cart.push({section, name:product.name});
    updateCart();
    alert('تم إضافة المنتج للسلة');
  }

  function updateCart(){
    const div = document.getElementById('cartItems');
    if(cart.length===0){ div.innerHTML='السلة فارغة'; return; }
    div.innerHTML = '<ul>'+cart.map((c,i)=>`<li>${c.name} <button onclick="removeCartItem(${i})">حذف</button></li>`).join('')+'</ul>';
  }

  function removeCartItem(i){ cart.splice(i,1); updateCart(); }

  function showCart(){ document.getElementById('cart').scrollIntoView({behavior:'smooth'}); }

  function showCheckoutForm(){ document.getElementById('checkoutForm').style.display='block'; }

  function submitOrder(e){
    e.preventDefault();
    const order = {
      name: document.getElementById('custName').value,
      phone: document.getElementById('custPhone').value,
      address: document.getElementById('custAddress').value,
      note: document.getElementById('custNote').value,
      items: [...cart],
      date: new Date().toLocaleString()
    };
    let orders = JSON.parse(localStorage.getItem('orders')||'[]');
    orders.push(order);
    localStorage.setItem('orders', JSON.stringify(orders));
    alert('تم إرسال الطلب بنجاح! (محلياً محفوظ في لوحة صاحب المتجر)');
    cart=[]; updateCart();
    document.getElementById('checkoutForm').reset(); document.getElementById('checkoutForm').style.display='none';
  }

  function promptAdmin(){
    const pass = prompt('أدخل كلمة مرور صاحب المتجر:');
    if(pass==='admin'){ showAdmin(); } else { alert('كلمة مرور خاطئة'); }
  }

  function showAdmin(){
    document.getElementById('adminPanel').style.display='block';
    updateOrdersList();
  }

  function closeAdmin(){ document.getElementById('adminPanel').style.display='none'; }

  function updateOrdersList(){
    const orders = JSON.parse(localStorage.getItem('orders')||'[]');
    const div = document.getElementById('ordersList');
    if(orders.length===0){ div.innerHTML='لا توجد طلبات'; return; }
    div.innerHTML = orders.map((o,i)=>`
      <div style="border:1px solid #fff; padding:5px; margin:5px;">
        <strong>${o.name}</strong> - ${o.phone} <br>
        ${o.address} <br> ملاحظة: ${o.note} <br>
        المنتجات: <ul>${o.items.map(it=>`<li>${it.name}</li>`).join('')}</ul>
      </div>
    `).join('');
  }

  function clearOrders(){
    if(confirm('هل تريد مسح جميع الطلبات؟')){
      localStorage.removeItem('orders');
      updateOrdersList();
    }
  }

  // عرض القسم الأول افتراضياً
  showSection('عروض');
  updateCart();
</script>

</body>
</html>
